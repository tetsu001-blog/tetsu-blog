{{ define "main" }}
<article class="bg-white rounded shadow-sm border border-slate-100 p-6 md:p-10 mb-8">
    <header class="mb-8">
        <h1 class="text-2xl md:text-3xl font-bold text-slate-800 mb-4">{{ .Title }}</h1>
        {{ if and (not .IsHome) (ne .Slug "about") }}
        {{ if .Date }}
        <p class="text-sm text-slate-500">{{ .Date.Format "2006年1月2日" }}</p>
        {{ end }}
        {{ end }}
    </header>

    {{ if .Params.image }}
    <div class="mb-8 rounded overflow-hidden">
        <img src="{{ .Params.image | absURL }}" alt="{{ .Title }}" class="w-full h-auto rounded">
    </div>
    {{ end }}

    <div class="prose prose-slate max-w-none prose-a:text-blue-500 hover:prose-a:text-blue-700">
        {{ if and (not .IsHome) (ne .Slug "about") (ne .Slug "swap") (ne .Slug "privacy") (ne .Slug "contact") (ne .Slug
        "thanks") }}
        {{ if .TableOfContents }}
        <div class="toc-container" id="toc-container">
            <div class="toc-header">
                <span class="toc-title">目次</span>
                <span class="toc-toggle" id="toc-toggle"
                    onclick="var c=document.getElementById('toc-content');if(c.style.display==='none'){c.style.display='';this.textContent='[非表示]'}else{c.style.display='none';this.textContent='[表示]'}"
                    style="cursor:pointer;color:#3b82f6;">[非表示]</span>
            </div>
            <div class="toc-content" id="toc-content">
                {{ .TableOfContents }}
            </div>
        </div>
        {{ end }}
        {{ end }}
        {{ .Content }}
    </div>
</article>
{{ end }}